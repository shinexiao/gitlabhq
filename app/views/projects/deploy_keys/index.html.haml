- page_title "Deploy Keys"

.row.prepend-top-default
  .col-lg-3.profile-settings-sidebar
    %h4.prepend-top-0
      = page_title
    %p
      Deploy keys allow read-only access to your repository. Deploy keys can be used for CI, staging or production servers. You can create a deploy key or add an existing one.
  .col-lg-9
    %h5.prepend-top-0
      Create a new deploy key for this project
    = render "form"
  .col-lg-9.col-lg-offset-3
    %hr
  .col-lg-9.col-lg-offset-3.append-bottom-default.deploy-keys
    %h5.prepend-top-0
      Enabled deploy keys for this project (#{@enabled_keys.size})
    - if @enabled_keys.any?
      %ul.well-list
        = render @enabled_keys
    - else
      .settings-message.text-center
        No deploy keys found. Create one with the form above or add existing one below.
    %h5.prepend-top-default
      Deploy keys from projects you have access to (#{@available_project_keys.size})
    - if @available_project_keys.any?
      %ul.well-list
        = render @available_project_keys
    - else
      .settings-message.text-center
        No deploy keys from your projects could be found. Create one with the form above or add existing one below.
    - if @available_public_keys.any?
      %h5.prepend-top-default
        Public deploy keys available to any project (#{@available_public_keys.size})
      %ul.well-list
        = render @available_public_keys
